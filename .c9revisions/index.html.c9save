{"ts":1359957650800,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1359957653714,"patch":[[{"diffs":[[1,"<!DOCTYPE HTML>\r\n<html>\r\n    <head>\r\n        <title>초간단 채팅</title>\r\n        <script src=\"http://code.jquery.com/jquery-1.6.2.min.js\"></script>\r\n        <script src=\"/socket.io/socket.io.js\"></script>\r\n        <script>\r\n            var socket = io.connect();\r\n            \r\n            $(document).ready(function(){\r\n                socket.on(\"chat\", function(data){\r\n                    $(\"ul\").prepend(\"<li>\" + data + \"</li>\");\r\n                });\r\n                \r\n                // 보내기 엔터이벤트\r\n                $(\"#inputMessage\").keyup(function(e){\r\n                    if (e.keyCode == 13){\r\n                        var val = $(\"#inputMessage\").val();\r\n                        if (val.length <= 0){\r\n                            return;\r\n                        }\r\n                        send(val);\r\n                        $(\"#inputMessage\").val(\"\");\r\n                    }\r\n                });\r\n            });\r\n            \r\n            function send(message){\r\n                socket.emit(\"chat\", message);\r\n                $(\"ul\").prepend(\"<li>\" + message + \"</li>\");\r\n            }\r\n        </script>\r\n    </head>\r\n    <body>\r\n        <input type=\"text\" id=\"inputMessage\" name=\"inputMessage\"/>\r\n        <ul></ul>\r\n    </body>\r\n</html>\r\n\r\n\r\n"]],"start1":0,"start2":0,"length1":0,"length2":1251}]],"length":1251,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359959503939,"patch":[[{"diffs":[[0,"t src=\"/"],[1,"node_modules/"],[0,"socket.i"]],"start1":158,"start2":158,"length1":16,"length2":29}]],"length":1264,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359960372439,"patch":[[{"diffs":[[-1,"<!DOCTYPE HTML>\r\n"],[0,"<html>\r\n"],[-1,"    "],[0,"<head>\r\n"],[-1,"        <title>초간단 채팅"],[1,"<title>Cloud9, NodeJS & Heroku: websockets for all"],[0,"</ti"]],"start1":0,"start2":0,"length1":62,"length2":70},{"diffs":[[0,"title>\r\n"],[-1,"        "],[1,"\r\n"],[0,"<script "]],"start1":68,"start2":68,"length1":24,"length2":18},{"diffs":[[0,"rc=\""],[-1,"http://code.jquery.com/jquery-1.6.2.min.js\"></script>\r\n        <script src=\"/node_modules/socket.io/socket.io.js\">"],[1,"/socket.io/socket.io.js\"></script>\r\n\r\n<script>\r\nonerror = function (msg) {\r\nlog(msg);\r\n}\r\nfunction log(msg) {\r\ndocument.getElementById('log').appendChild(document.createTextNode(new Date() + ' ' + msg + '\\n'));\r\n}\r\nfunction status(msg) {\r\nlog(msg);\r\ndocument.getElementById('status').textContent = msg;\r\n}\r\nfunction clearLog() {\r\nvar e = document.getElementById('log');\r\nwhile (e.hasChildNodes()) {\r\ne.removeChild(e.firstChild);\r\n}\r\ne.appendChild(document.createTextNode('Log: \\n'));\r\n}\r\n"],[0,"</sc"]],"start1":87,"start2":87,"length1":122,"length2":496},{"diffs":[[0,"cript>\r\n"],[-1,"        "],[1,"\r\n"],[0,"<script>"]],"start1":582,"start2":582,"length1":24,"length2":18},{"diffs":[[0,"cript>\r\n"],[-1,"            "],[0,"var sock"]],"start1":594,"start2":594,"length1":28,"length2":16},{"diffs":[[0,"t = "],[-1,"io.connect();\r\n            \r\n            $(document).ready("],[1,"null;\r\nfunction connect() {\r\nlog('Connecting to local server...');\r\nif (socket == null) {\r\nsocket = io.connect(null,{'auto connect': false});\r\nsocket.on('connect', "],[0,"function"],[1," "],[0,"()"],[1," "],[0,"{\r\n"],[-1,"                "],[1,"status('Connected');\r\n});\r\n\r\n"],[0,"sock"]],"start1":611,"start2":611,"length1":96,"length2":216},{"diffs":[[0,"cket.on("],[-1,"\"chat\""],[1,"'message'"],[0,", functi"]],"start1":825,"start2":825,"length1":22,"length2":25},{"diffs":[[0,"tion"],[1," "],[0,"(data)"],[1," "],[0,"{\r\n"],[-1,"                    $(\"ul\").prepend(\"<li>\" + data + \"</li>\");\r\n                });\r\n                \r\n                // 보내기 엔터이벤트\r\n                $(\"#inputMessage\").keyup(function(e){\r\n                    if (e.keyCode == 13){\r\n                        var val = $(\"#inputMessage\""],[1,"log(data);\r\n});\r\n}\r\nsocket.socket.connect();\r\n}\r\n\r\nfunction send() {\r\nif (socket && socket.socket.connected) {\r\nsocket.send(document.getElementById('text'"],[0,").val"],[-1,"("],[1,"ue"],[0,");\r\n"],[-1,"                        if (val.length <= 0){\r\n                            return;\r\n                        }\r\n                        send(val);\r\n                        $(\"#inputMessage\").val(\"\");\r\n                    }\r\n                });\r\n            });\r\n            \r\n            function send(message){\r\n                socket.emit(\"chat\", message);\r\n                $(\"ul\").prepend(\"<li>\" + message + \"</li>\");\r\n            }\r\n        "],[1,"log('>' + document.getElementById('text').value);\r\n} else {\r\nlog('Not connected.');\r\n}\r\n}\r\n\r\nfunction send100() {\r\nif (socket && socket.socket.connected) {\r\nfor (var i = 0; i < 100; i += 1) {\r\nsocket.send('test'+ i);\r\nlog('> test' + i);\r\n}\r\n} else {\r\nlog('Not connected.');\r\n}\r\n}\r\n\r\nfunction update() {\r\nif (socket && socket.socket && socket.socket.transport) {\r\ndocument.getElementById('sessionId').textContent = socket.socket.transport.sessid;\r\ndocument.getElementById('transport').textContent = socket.socket.transport.name;\r\n} else {\r\ndocument.getElementById('sessionId').textContent = '-';\r\ndocument.getElementById('transport').textContent = '-';\r\n}\r\n}\r\nsetInterval(update, 10);\r\n\r\n"],[0,"</sc"]],"start1":848,"start2":848,"length1":752,"length2":871},{"diffs":[[0,"cript>\r\n"],[-1,"    "],[0,"</head>\r"]],"start1":1718,"start2":1718,"length1":20,"length2":16},{"diffs":[[0,"d>\r\n"],[-1,"    "],[1,"\r\n"],[0,"<body"],[-1,">\r\n        <input type=\"text\" id=\"inputMessage\" name=\"inputMessage\"/>\r\n        <ul></ul>\r\n    "],[1," onload=\"connect()\">\r\n<p>\r\n<label style='width:200px;float:left'>Status: <span id=\"status\">Idle</span></label>\r\n</p>\r\n<p>SessionId: <span id=\"sessionId\">-</span></p>\r\n<p>Transport: <span id=\"transport\">-</span></p>\r\n\r\n<p>\r\n<label>Message: <input id=\"text\" type=\"text\" size=\"80\" value=\"\"/></label>\r\n<input type=button value=\"Echo\" onclick=\"send()\">\r\n</p>\r\n\r\n<p>\r\n<input type=button value=\"Spam 100 packets\" onclick=\"send100()\" />\r\n<input type=button value=\"Clear log\" onclick=\"clearLog()\" />\r\n</p>\r\n\r\n<pre id=\"log\">Log:</pre>\r\n"],[0,"</bo"]],"start1":1731,"start2":1731,"length1":111,"length2":541},{"diffs":[[0,"\n</html>"],[-1,"\r\n\r\n"],[1," "],[0,"\r\n"]],"start1":2276,"start2":2276,"length1":14,"length2":11}]],"length":2287,"saved":false}
